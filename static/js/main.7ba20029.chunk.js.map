{"version":3,"sources":["component/Searchbar/Searchbar.js","services/pixabay-api/pixabay-api.js","component/image-gallery/ImageGalleryItem.js","component/image-gallery/ImageGallery.js","common/Button.js","common/Modal.js","App.js","index.js"],"names":["Searchbar","state","query","inputChange","value","currentTarget","setState","setQuery","evt","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","axios","defaults","baseURL","currentPage","get","then","res","data","hits","catch","error","onClick","webformatURL","largeImageURL","src","alt","data-src","images","map","id","ImageGalleryItem","key","title","modalRoot","document","querySelector","Modal","pressEscape","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","children","App","haveImage","imagesLength","spinner","largeImage","formSubmit","fetchServicesApi","fetchImages","length","prevState","console","log","onClickImage","dataset","closeModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","ImageGallery","color","secondaryColor","width","Button","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7ba20029.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  inputChange = ({ currentTarget: { value } }) => {\n    this.setState({\n      query: value,\n    });\n  };\n\n  setQuery = evt => {\n    evt.preventDefault();\n\n    this.props.onSubmit(this.state);\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.setQuery}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.inputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL =\n  'https://cors-anywhere.herokuapp.com/https://pixabay.com/api';\n\nconst apiKey = '16159179-9a5d2f4d64cb4ee75e82dc2d4';\n\nexport default ({ query, currentPage }) =>\n  axios\n    .get(\n      `/?q=${query}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=12&key=${apiKey}`,\n    )\n    .then(res => res.data.hits)\n    .catch(error => error);\n","import React from 'react';\n\nexport default ({ onClick, webformatURL, largeImageURL }) => (\n  <li className=\"ImageGalleryItem\">\n    <img\n      src={webformatURL}\n      alt=\"\"\n      className=\"ImageGalleryItem-image\"\n      data-src={largeImageURL}\n      onClick={onClick}\n    />\n  </li>\n);\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nexport default ({ images, onClick }) => (\n  <ul className=\"ImageGallery\">\n    {images.map(({ id, webformatURL, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        onClick={onClick}\n        webformatURL={webformatURL}\n        largeImageURL={largeImageURL}\n      />\n    ))}\n  </ul>\n);\n","import React from 'react';\n\nexport default ({ title, onClick }) => (\n  <button type=\"button\" className=\"Button\" onClick={onClick}>\n    {title}\n  </button>\n);\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentWillMount() {\n    window.addEventListener('keydown', this.pressEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.pressEscape);\n  }\n\n  pressEscape = ({ code }) => {\n    if (code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = evt => {\n    if (evt.target === evt.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Searchbar from './component/Searchbar';\nimport fetchImages from './services/pixabay-api/pixabay-api';\nimport ImageGallery from './component/image-gallery';\nimport Button from './common/Button';\nimport Modal from './common/Modal';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n    currentPage: 1,\n    images: [],\n    haveImage: true,\n    imagesLength: 0,\n    spinner: false,\n    largeImage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n\n    if (prevState.query !== this.state.query) {\n      this.fetchServicesApi();\n    }\n  }\n\n  formSubmit = ({ query }) => {\n    this.setState({\n      query: query,\n      currentPage: 1,\n      images: [],\n    });\n  };\n\n  fetchServicesApi = () => {\n    this.setState({ spinner: true });\n\n    const { query, currentPage } = this.state;\n    const option = { query, currentPage };\n\n    fetchImages(option)\n      .then(images => {\n        if (images.length === 0) {\n          this.setState({\n            haveImage: false,\n            imagesLength: 0,\n            spinner: false,\n          });\n        }\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n          haveImage: true,\n          imagesLength: images.length,\n          spinner: false,\n        }));\n      })\n      .catch(error => console.log(error));\n  };\n\n  onClickImage = evt => {\n    const largeImage = evt.target.dataset.src;\n    this.setState({ largeImage: largeImage });\n  };\n\n  closeModal = evt => {\n    this.setState({ largeImage: null });\n  };\n\n  render() {\n    const { images, haveImage, imagesLength, spinner, largeImage } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.formSubmit} />\n\n        {haveImage ? (\n          <ImageGallery images={images} onClick={this.onClickImage} />\n        ) : (\n          <h2 className=\"ImageGallery-title\">Oops, no images</h2>\n        )}\n\n        {spinner && (\n          <div className=\"Loader\">\n            <Loader\n              type=\"MutatingDots\"\n              color=\"#303f9f\"\n              secondaryColor=\"#303f9f\"\n              width={100}\n            />\n          </div>\n        )}\n\n        {images.length > 0 && imagesLength === 12 && !spinner && (\n          <Button title=\"Load more\" onClick={this.fetchServicesApi} />\n        )}\n\n        {largeImage && (\n          <Modal onClose={this.closeModal}>\n            <img src={largeImage} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}