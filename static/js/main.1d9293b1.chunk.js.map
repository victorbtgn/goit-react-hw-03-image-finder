{"version":3,"sources":["component/Searchbar/Searchbar.js","services/pixabay-api/pixabay-api.js","component/image-gallery/ImageGalleryItem.js","component/image-gallery/ImageGallery.js","common/Button.js","App.js","index.js"],"names":["Searchbar","state","query","inputChange","value","currentTarget","setState","setQuery","evt","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","axios","defaults","baseURL","currentPage","get","then","res","data","hits","catch","error","webformatURL","largeImageURL","src","alt","images","map","id","ImageGalleryItem","key","title","onClick","App","haveImage","imagesLength","spinner","formSubmit","fetchServicesApi","fetchImages","length","prevState","console","log","prevProps","window","scrollTo","top","document","documentElement","scrollHeight","behavior","ImageGallery","color","secondaryColor","width","Button","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1d9293b1.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  inputChange = ({ currentTarget: { value } }) => {\n    this.setState({\n      query: value,\n    });\n  };\n\n  setQuery = evt => {\n    evt.preventDefault();\n\n    this.props.onSubmit(this.state);\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.setQuery}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.inputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL =\n  'https://cors-anywhere.herokuapp.com/https://pixabay.com/api';\n\nconst apiKey = '16159179-9a5d2f4d64cb4ee75e82dc2d4';\n\nexport default ({ query, currentPage }) =>\n  axios\n    .get(\n      `/?q=${query}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=12&key=${apiKey}`,\n    )\n    .then(res => res.data.hits)\n    .catch(error => error);\n","import React from 'react';\n\nexport default ({ webformatURL, largeImageURL }) => (\n  <li className=\"ImageGalleryItem\">\n    <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\n  </li>\n);\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nexport default ({ images }) => (\n  <ul className=\"ImageGallery\">\n    {images.map(({ id, webformatURL, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        webformatURL={webformatURL}\n        largeImageURL={largeImageURL}\n      />\n    ))}\n  </ul>\n);\n","import React from 'react';\n\nexport default ({ title, onClick }) => (\n  <button type=\"button\" className=\"Button\" onClick={onClick}>\n    {title}\n  </button>\n);\n","import React, { Component } from 'react';\nimport Searchbar from './component/Searchbar';\nimport fetchImages from './services/pixabay-api/pixabay-api';\nimport ImageGallery from './component/image-gallery';\nimport Button from './common/Button';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n    currentPage: 1,\n    images: [],\n    haveImage: true,\n    imagesLength: 0,\n    spinner: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n\n    if (prevState.query !== this.state.query) {\n      this.fetchServicesApi();\n    }\n  }\n\n  formSubmit = ({ query }) => {\n    this.setState({\n      query: query,\n      currentPage: 1,\n      images: [],\n    });\n  };\n\n  fetchServicesApi = () => {\n    this.setState({ spinner: true });\n\n    const { query, currentPage } = this.state;\n    const option = { query, currentPage };\n\n    fetchImages(option)\n      .then(images => {\n        if (images.length === 0) {\n          this.setState({\n            haveImage: false,\n            imagesLength: 0,\n            spinner: false,\n          });\n        }\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n          haveImage: true,\n          imagesLength: images.length,\n          spinner: false,\n        }));\n      })\n      .catch(error => console.log(error));\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.formSubmit} />\n\n        {this.state.haveImage ? (\n          <ImageGallery images={this.state.images} />\n        ) : (\n          <h2 className=\"ImageGallery-title\">Oops, no images</h2>\n        )}\n\n        {this.state.spinner && (\n          <div className=\"Loader\">\n            <Loader\n              type=\"MutatingDots\"\n              color=\"#303f9f\"\n              secondaryColor=\"#303f9f\"\n              width={100}\n            />\n          </div>\n        )}\n\n        {this.state.images.length > 0 &&\n          this.state.imagesLength === 12 &&\n          !this.state.spinner && (\n            <Button title=\"Load more\" onClick={this.fetchServicesApi} />\n          )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}